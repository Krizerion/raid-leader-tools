<div class="container planner-container">
  <div class="row">
    <div class="col-md-12">
      <h2 class="raid-plan-name">Plan Name</h2>
    </div>

    <div class="col-md-8">
      <div class="row">
        <div class="col-md-12 main-team-container">
          <h3>Main Composition:</h3>
          <h3 *ngIf="(playersWithoutSelectedSpec$ | async) > 0">
            WITHOUT SPEC: {{ playersWithoutSelectedSpec$ | async }}
          </h3>
          <div class="all-cards-container" id="main-roster" [dragula]="'roster'" [(dragulaModel)]="players">
            <div style="display: inline-block;" *ngFor="let player of players">
              <rv-player-card
                nz-button
                nzTooltipTitle="{{ player.note }}"
                nzTooltipPlacement="topCenter"
                nz-tooltip
                [centerText]="player.name"
                (click)="openEditPlayerModal(player)"
                [topRightImgSrc]="getClassIconById(player.classId)"
                [bottomRightImgSrc]="getSpecIconById(player.specId)"
                [leftImageSrc]="getRoleIconById(player.roleId)"
                [className]="player.classId"
              ></rv-player-card>
            </div>
          </div>
          <div class="empty-card-container" *ngIf="players && players.length < 20">
            <div class="empty-card" (click)="openAddNewPlayerModal()">
              <img src="assets/images/other-icons/add-icon.png" alt="spec" />
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-12">
          <div class="roles-container">
            <span class="col-lg-3 col-md-6 col-sm-12 role-count tanks"
              ><img src="assets/images/role-icons/tank.png" alt="" class="role-icon" /> Tanks:
              {{ (rolesCount$ | async)['TANK'].toString() }}</span
            >
            <span class="col-lg-3 col-md-6 col-sm-12 role-count healers"
              ><img src="assets/images/role-icons/healer.png" alt="" class="role-icon" />Healers:
              {{ (rolesCount$ | async)['HEALER'].toString() }}</span
            >
            <span class="col-lg-3 col-md-6 col-sm-12 role-count dps"
              ><img src="assets/images/role-icons/rdps.png" alt="" class="role-icon" />RDPS:
              {{ (rolesCount$ | async)['RDPS'].toString() }}</span
            >
            <span class="col-lg-3 col-md-6 col-sm-12 role-count dps"
              ><img src="assets/images/role-icons/mdps.png" alt="" class="role-icon" />MDPS:
              {{ (rolesCount$ | async)['MDPS'].toString() }}</span
            >
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-12 backup-team-container">
          <h3>Backup:</h3>
          <!-- TODO -->
          <div class="all-cards-container" id="backup-roster" [dragula]="'roster'" [(dragulaModel)]="backup">
            <div style="display: inline-block;" *ngFor="let player of backup">
              <rv-player-card
                nz-button
                nzTooltipTitle="{{ player.note }}"
                nzTooltipPlacement="topCenter"
                nz-tooltip
                [centerText]="player.name"
                [topRightImgSrc]="getClassIconById(player.classId)"
                [bottomRightImgSrc]="getSpecIconById(player.specId)"
                [leftImageSrc]="getRoleIconById(player.roleId)"
                [className]="player.classId"
              ></rv-player-card>
            </div>
          </div>
          <!-- <div class="empty-card-container">
            <div class="empty-card" (click)="openAddNewPlayerModal()">
              <img src="assets/images/other-icons/add-icon.png" alt="spec" />
            </div>
          </div> -->
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <h3>Main Composition Details:</h3>
      <div class="row">
        <div class="col-md-12">
          <rv-class-composition></rv-class-composition>
          <rv-class-utilities></rv-class-utilities>
        </div>
      </div>
    </div>
  </div>
</div>
